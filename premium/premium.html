<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Sprint Quiz</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/howler@2.2.4/dist/howler.min.js"></script>

<style>
body{background:#0f1115;color:#fff}
.game{max-width:420px;margin:auto;padding:16px}
.opt{background:#1d2129;padding:12px;border-radius:10px;text-align:center;margin-bottom:8px;cursor:pointer}
.premium-lock{position:fixed;inset:0;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;z-index:999}
.lock-card{background:#111;padding:24px;border-radius:18px;text-align:center;width:90%;max-width:340px}
</style>
</head>

<body>

<div id="premiumLock" class="premium-lock d-none">
  <div class="lock-card">
    <i class="bi bi-lock-fill fs-1 text-warning"></i>
    <h4>Premium Game</h4>
    <p>Unlock for 24 Hours</p>
    <div class="fw-bold text-success">üí∞ 50 Coins</div>
    <button id="unlockBtn" class="btn btn-warning w-100 mt-3">Unlock</button>
  </div>
</div>

<div class="game">
  <div class="d-flex justify-content-between mb-2">
    <span id="timerBox"></span>
    <span id="progress">0 / 20</span>
  </div>

  <div class="card p-3 bg-dark">
    <div id="question" class="fs-4 mb-3"></div>
    <div id="options"></div>
  </div>
</div>

<script src="premium-access.js"></script>

<script>
let time=30,score=0,index=0,total=20,ended=false;
const timerBox=document.getElementById('timerBox');
const q=document.getElementById('question');
const ops=document.getElementById('options');
const prog=document.getElementById('progress');

timerBox.innerText=`‚è± ${time}s`;
const timer=setInterval(()=>{
  time--;
  timerBox.innerText=`‚è± ${time}s`;
  if(time<=0) end();
},1000);

function next(){
  if(ended) return;
  if(index===total){ end(); return; }
  index++; prog.innerText=`${index} / ${total}`;

  const a=Math.floor(Math.random()*10);
  const b=Math.floor(Math.random()*10);
  const ans=a+b;

  q.innerText=`${a} + ${b} = ?`;
  ops.innerHTML='';

  for(let i=0;i<4;i++){
    const v=i===0?ans:ans+Math.floor(Math.random()*5)+1;
    const d=document.createElement('div');
    d.className='opt';
    d.innerText=v;
    d.onclick=()=>{ if(v===ans) score++; next(); };
    ops.appendChild(d);
  }
}

function end(){
  ended=true;
  clearInterval(timer);
  localStorage.setItem('lastScore',score);
  location.href='../result.html';
}

if(document.getElementById('premiumLock').classList.contains('d-none')){
  next();
}
</script>

</body>
</html>
